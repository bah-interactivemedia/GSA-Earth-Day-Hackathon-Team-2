<!DOCTYPE html>
<html>
<head lang="en">
	<meta charset="utf-8">
	<title></title>

	<link rel="stylesheet" href="../app/assets/lib/bootstrap-3.3.6-dist/css/bootstrap.min.css" />
	<link rel="stylesheet" href="../app/assets/lib/bootstrap-3.3.6-dist/css/bootstrap-theme.min.css" />
	<link rel="stylesheet" href="styles/index.css" />
</head>
<body>
	<div class="container">
		<header class="row">
			<div class="col-md-6">
				<div class="row">
					<span class="col-md-2">
						<img id="usda-logo" src="../app/assets/images/usda-logo.png">
					</span>
					<span class="col-md-10 title">
						<span class="header-text">United States Department of Agrigulture</span>
						<span class="block sub-header-text">Forest Service</span>
					</span>
				</div>
			</div>
			<div class="col-md-3"></div>
			<div class="col-md-3">
				<div class="row">
					<span class="col-md-6"></span>
					<span class="col-md-4"></span>
					<span class="col-md-2">
						<img id="forest-service-logo" src="../app/assets/images/forest-service-logo.png">
					</span>
				</div>
			</div>
		</header>
		<div class="row main-content">
			<aside class="col-md-3">
				<ul class="nav nav-pills nav-stacked">
				  <li role="presentation" class="active"><a href="#">Dashboard</a></li>
				  <li role="presentation"><a href="#">Profile</a></li>
				  <li role="presentation"><a href="#">Messages</a></li>
				</ul>
			</aside>
			<atricle class="col-md-9 content">
				<nav class="row">
					<span class="col-lg-12">
						<img id="icon-home" src="../app/assets/images/icon-home.png">
						<span class="description-title">Dashboard</span>
					</span>
				</nav>
				<section class="row small-widgets">
					<span class="col-md-4 widget-col">
						<span class="widget widget-1"></span>
					</span>
					<span class="col-md-4 widget-col">
						<span class="widget widget-2"></span>
					</span>
					<span class="col-md-4 widget-col">
						<span class="widget widget-3"></span>
					</span>
				</section>
				<section class="row main-widgets">
					<span class="col-md-12 widget-col" >						
						<div id="chart_div"></div>
					</span>
				</section>
				<section class="row">
					<div class="col-md-12 widget-col" >						
						<div id="map" class=""></div>
					</div>
				</section>
			</atricle>
		</div>
	</div>
	<script type="text/javascript" src="../app/assets/lib/jquery/jquery-2.2.3.min.js"></script>
	<script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
	<script type="text/javascript" src="scripts/histogram.js"></script>
	<script type="text/javascript" src="scripts/pie_chart.js"></script>
	<script src="https://d3js.org/d3.v3.min.js" charset="utf-8"></script>
	<script src="http://d3js.org/queue.v1.min.js"></script>
	<script src="http://d3js.org/topojson.v1.min.js"></script>
	<script>

	var width = 850,
	    height = 600;

	var rateById = d3.map();

	var quantize = d3.scale.quantize()
	    .domain([0, .15])
	    .range(d3.range(9).map(function(i) { return "q" + i + "-9"; }));

	var projection = d3.geo.albersUsa()
	    .scale(1000)
	    .translate([width / 2, height / 2]);

	var path = d3.geo.path()
	    .projection(projection);

	var svg = d3.select("#map").append("svg")
	    .attr("width", width)
	    .attr("height", height);

	queue()
	    .defer(d3.json, "./us.json")
	    // .defer(d3.tsv, "./unemployment.tsv", function(d) { rateById.set(d.id, +d.rate); })
	    .await(ready);

	function ready(error, us) {
	  if (error) throw error;

	  svg.append("g")
	      .attr("class", "counties")
	    .selectAll("path")
	      .data(topojson.feature(us, us.objects.counties).features)
	    .enter().append("path")
	      .attr("class", function(d) { return quantize(rateById.get(d.id)); })
	      .attr("d", path);

	  svg.append("path")
	      .datum(topojson.mesh(us, us.objects.states, function(a, b) { return a !== b; }))
	      .attr("class", "states")
	      .attr("d", path);
	}

	d3.select(self.frameElement).style("height", height + "px");

	</script>

</body>
</html>
